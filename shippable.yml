language: ruby
rvm:
  - 2.1.3
notifications:
  email:
    recipients:
      - prabesh708@gmail.com
      - prabesh.shrestha@preisanalytics.de

before_script:
  - mkdir -p shippable/codecoverage
  - mkdir -p shippable/testresults
  - mkdir -p tmp/cache/

env:
  global:
    - DISPLAY=:99.0
    - CI_REPORTS=shippable/testresults COVERAGE_REPORTS=shippable/codecoverage
script:
  - rspec spec/suite.rb --format RspecJunitFormatter --out shippable/testresults/results.xml

branches:
  only:
    - master
    - staging
